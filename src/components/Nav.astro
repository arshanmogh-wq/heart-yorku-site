---
const current = (Astro.url.pathname.replace(/\/$/, "") || "/");
const links = [
  { href: "/", label: "Home" },
  { href: "/about", label: "About" },
  { href: "/join", label: "Join" },
  { href: "/events", label: "Events" },
];

function isActive(href) {
  const clean = (href.replace(/\/$/, "") || "/");
  return clean === current;
}
---

<header class="site-header">
  <div class="site-header__inner">
    <a class="brand" href="/">
      <img class="brand__logo" src="/images/heart-logo.png" alt="HEART logo" />
      <div>
        <div class="brand__name">HEART</div>
        <span class="brand__tag">Health Equity Advocacy Response Team</span>
      </div>
    </a>

    <nav class="site-nav" aria-label="Primary navigation">
      {links.map((l) => (
        <a class={"site-nav__link" + (isActive(l.href) ? " is-active" : "")} href={l.href}>
          {l.label}
        </a>
      ))}
    </nav>
  </div>
</header>
